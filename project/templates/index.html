{% extends "layout.html" %}

{% block title %}
  Index
{% endblock %}

{% block main %}
  <div class="container-sm px-4 mt-4">
    <div class="row">
      <div class="col-xl-3">
        <!-- Add Total card-->
        <div class="card mb-4">
          <div class="card-header">Expenses</div>
          <div class="card-body">
            <!-- Form Group (Total Expenses Name)-->
            <div class="mb-3">
              <h1>{{total}}</h1>
            </div>
          </div>
        </div>
        <!-- Add summary card-->
        <div class="card mb-4">
          <div class="card-header">Summary</div>
          <div class="card-body">
            <!-- Form Group (Expenses Summary)-->
            <div class="mb-3">
              <a href="fig1">Website</a>
              <!-- <h1>{{total}}</h1> -->
            </div>
          </div>
        </div>
      </div>
      {% if total == 0 %}
      <div class="col-xl-9">
        <!-- List empty charts card-->
        <div class="card mb-3">
          <div class="card-header">Charts</div>
          <div class="card-body">
            <!-- Add a place holder for the beginning of the month -->
            <p>No data</p>
          </div>
        </div>
      </div>
      {% else %}

      <div class="col-xl-9">
        <!-- List charts card-->
        <div class="card mb-3">
          <div class="card-header">Charts</div>
          <div class="card-body">
            <!-- Plot selector -->
            <select  aria-label="Chart Selector" class="form-select w-100" id="chart_selector">
              <option value="1" selected>Bar</option>
              <option value="2">Pie</option>
            </select>
            <!-- Plot -->
            <div class="ratio ratio-16x9" id="object_ratio">
              <object data="/fig1" id="object_chart"></object>
            </div>
          </div>
        </div>
      </div>
      {% endif %}

    </div>
  </div>

  <script type="text/javascript">
    // Listen to changes in the chart selector values and show the corresponding chart
    document.querySelector('#chart_selector').addEventListener('change', function(){
      var obj_ratio = document.getElementById("object_ratio");
      var obj_chart = document.getElementById("object_chart");
      if (this.value == "1"){
        //obj_ratio.setAttribute("class", "ratio ratio-16x9")
        obj_chart.setAttribute("data", "/fig1");
      }
      else{
        //obj_ratio.setAttribute("class", "ratio ratio-4x3")
        obj_chart.setAttribute("data", "/fig2");
      }
    });
  </script>

{% endblock %}
