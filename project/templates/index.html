{% extends "layout.html" %}

{% block title %}
  Index
{% endblock %}

{% block main %}
  <div class="container-sm px-4 mt-4">
    <div class="row">
      <div class="col-xl-3">
        <!-- Add Date card-->
        <div class="card mb-5 shadow">
          <div class="card-header">Date</div>
          <div class="card-body">
            <!-- Form Group (Expenses Summary)-->
            <div class="mb-3">
              <h3>{{today}}</h3>
            </div>
          </div>
        </div>

        <!-- Add Total card-->
        <div class="card mb-5 shadow">
          <div class="card-header">Monthly Expense</div>
          <div class="card-body">
            <!-- Form Group (Total Expenses Name)-->
            <div class="mb-3">
              <h1>{{total}}</h1>
            </div>
          </div>
        </div>


        <!-- Add Total card-->
        <div class="card mb-5 shadow">
          <div class="card-header">Monthly Breakdown</div>
          <div class="card-body">
            <!-- Form Group (Total Breakdown Name)-->
            <div class="mb-3">
              <div class="ratio ratio-1x1">
                {{fig2_plot|safe}}
              </div>
            </div>
          </div>
        </div>


      </div>

      {% if total == 0 %}
      <!--in case history is empty or beginning of month-->
      <div class="col-xl-9">
        <!-- List empty charts card-->
        <div class="card mb-3 shadow">
          <div class="card-header">Monthly Graph</div>
          <div class="card-body">
            <!-- Add a place holder for the beginning of the month -->
            <p>No data</p>
          </div>
        </div>
      </div>

      {% else %}
      <div class="col-xl-9">
        <!-- List charts card-->
        <div class="card mb-3 shadow">
          <div class="card-header">Monthly Graph</div>
          <div class="card-body">
            <!-- Plot selector -->
            <!--
              <nav>
                <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">
                  <button class="nav-link active " id="nav-bar-tab" data-bs-toggle="tab" data-bs-target="#nav-bar" type="button" role="tab" aria-controls="nav-bar" aria-selected="true">Bar</button>
                  <button class="nav-link" id="nav-pie-tab" data-bs-toggle="tab" data-bs-target="#nav-pie" type="button" role="tab" aria-controls="nav-pie" aria-selected="false">Pie</button>
                </div>
              </nav>
              
              <div class="tab-content ratio ratio-16x9" id="nav-tabContent">
  
                <div class="tab-pane fade" id="nav-bar" role="tabpanel" aria-labelledby="nav-bar-tab">
                    {{fig1_plot|safe}}
                </div>
                <div class="tab-pane fade show active" id="nav-pie" role="tabpanel" aria-labelledby="nav-pie-tab">
                    
                </div>
              </div>
            -->
            <div class="ratio ratio-4x3">
              {{fig1_plot|safe}}
            </div>
          </div>
        </div>
      </div>
      {% endif %}

    </div>
  </div>

{% endblock %}
